# 미세먼지 챗봇

## 코드

```python
import requests
from bs4 import BeautifulSoup
url = f'http://openapi.airkorea.or.kr/openapi/services/rest/ArpltnInforInqireSvc/getCtprvnRltmMesureDnsty?serviceKey={key}&numOfRows=10&pageNo=1&sidoName=서울&ver=1.6'
response = requests.get(url).text
soup = BeautifulSoup(response, 'xml')
item = soup.dataTime.text
time = item.dataTime.text
station = item.stationName.text
daust - int(item.pm10Value.text)

print(f'{time} 기준 {station}의 미세먼지 농도는 {dust},')

if dust > 150:
    print('매우 나쁨입니다.')
elif 150 > dust > 80:
    print('나쁨입니다.')
elif dust > 30 and dust < 80:
    print('보통입니다.')
else:
    print('좋음입니다.')
```



##### 실행결과

```python
2020-07-18 17:00 기준 중구의 미세먼지 농도는 48,
보통입니다.
```



### 디코드

```python
import requests
from bs4 import BeautifulSoup
```

> 저장되지 않은 명령어를 실행할 수 있도록 한다.



```python
url = f'http://openapi.airkorea.or.kr/openapi/services/rest/ArpltnInforInqireSvc/getCtprvnRltmMesureDnsty?serviceKey={key}&numOfRows=10&pageNo=1&sidoName=서울&ver=1.6'
```

> 미세먼지에 대한 data를 가지고 올 수 있는 API이다.



```python
response = requests.get(url).text
soup = BeautifulSoup(response, 'xml')
item = soup.dataTime.text
time = item.dataTime.text
station = item.stationName.text
daust - int(item.pm10Value.text)
```

> API내 각 정보들을 변수에 담는다.



```python
print(f'{time} 기준 {station}의 미세먼지 농도는 {dust},')
```

> 위에서 저장한 변수들을 활용하여 정보를 출력한다.



```python
if dust > 150:
    print('매우 나쁨입니다.')
elif 150 > dust > 80:
    print('나쁨입니다.')
elif dust > 30 and dust < 80:
    print('보통입니다.')
else:
    print('좋음입니다.')
```

> 미세먼지 값 30, 50, 80, 150을 기준으로 대기 상태를 판단하여 출력한다.