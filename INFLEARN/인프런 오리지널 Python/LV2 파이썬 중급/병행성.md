# 병행성

- 제너레이터는 이터레이터를 만들어내는 것이다.

- 이터레이터는?

  *collections, text, list, dict, set, tuple, unpacking, \*args: iterable*

- for문이 어떻게 동작하는가?

  ```python
  t = 'abcdefghijklmnopqrstuvwxyz'
  for w in t:
      print(w)
  ```

  위의 for문에서는 내부적으로 iter.next() 함수가 호출되었다.

  ```python
  t = 'abcdefghijklmnopqrstuvwxyz'
  w = iter(t)
  while True:
      try:
          print(next(w))
      except StopIteration:
          break
  ```

  내부적 원리는 이렇게 생겼다.

- iterable 하다는건 어떻게 증명할까?

  - \__iter__ 속성이 있다는걸 보이는 방법

    ```python
    print(hasattr(t, '__iter__'))
    ```

    t가 \__iter__ 속성이 있다면 True, 없다면 False를 반환

    

  - Iterable 클래스를 상속 받았는지 알아보는 방법

    ```python
    from collections import abc
    
    print(isinstance(t, abc.Iterable))
    ```

-  사용법

  이터레이터는 아래와 같이 사용할 수 있다.

  ```python
  class WordSplitter:
      def __init__(self, text):
          self._idx = 0
          self._text = text.split(' ')
      
      def __next__(self):
          try:
              word = self._text[self._idx]
          except IndexError:
              raise StopIteration('Stopped Iteration.')
          self._idx += 1
          return word
  
      def __repr__(self):
          return 'WprdSplit(%s)' % (self._text)
  ```

  ```python
  wi = WordSplitter('Do today what you could do tommorrow')
  
  print(wi)
  print(next(wi))
  print(next(wi))
  print(next(wi))
  print(next(wi))
  print(next(wi))
  print(next(wi))
  print(next(wi))
  ```

  next를 출력하면,

  ```
  WprdSplit(['Do', 'today', 'what', 'you', 'could', 'do', 'tommorrow'])
  Do
  today
  what
  you
  could
  do
  tommorrow
  ```

  단어가 하나씩 나타난다.

  이걸 제너레이터를 활용하면 더욱 간단하게 작성할 수 있는데,

  ```python
  class WordSplitGenerator:
      def __init__(self, text):
          self._text = text.split(' ')
  
      def __iter__(self):
          for word in self._text:
              yield word
  
          return
      def __repr__(self):
          return 'WordSpliFenerator (%s)' % (self._text)
  ```

  ```python
  wg = WordSplitGenerator('Do today what you could do tommorrow')
  
  wt = iter(wg)
  print(wg)
  print(next(wt))
  print(next(wt))
  print(next(wt))
  print(next(wt))
  print(next(wt))
  print(next(wt))
  print(next(wt))
  ```

  ```
  WordSpliFenerator (['Do', 'today', 'what', 'you', 'could', 'do', 'tommorrow'])
  Do
  today
  what
  you
  could
  do
  tommorrow
  ```

  코드가 더욱 간결해졌다.

  yield 함수가 쓰이는데 어떤건지 알아보자.

- yield 함수

  

  

병렬성과 병행성:

병렬성은 여러대의 컴퓨터가 작업을 동시에 수행하는 것

병행성은 한 대의 컴퓨터가 여러 작업을 동시에 수행하는 것

파이썬에서는 병행성, 병렬성 모두 지원한다.



